---
title: Code Block
description: A flexible composite component for displaying code with syntax highlighting, line numbers, copy functionality, and multi-language support.
source: packages/raystack/components/code-block
tag: new
---

import {
  playground,
  basicDemo,
  withHeaderDemo,
  languageSwitcherDemo,
  noLineNumbersDemo,
  collapsibleDemo,
  copyButtonDemo,
} from "./demo.ts";

<Demo data={playground} />

## Anatomy

Import and assemble the component:

```tsx
import { CodeBlock } from '@raystack/apsara'

<CodeBlock>
  <CodeBlock.Header>
    <CodeBlock.Label />
    <CodeBlock.LanguageSelect>
      <CodeBlock.LanguageSelectTrigger />
    </CodeBlock.LanguageSelect>
    <CodeBlock.CopyButton />
  </CodeBlock.Header>
  <CodeBlock.Content>
    <CodeBlock.Code />
  </CodeBlock.Content>
  <CodeBlock.CollapseTrigger />
</CodeBlock>
```

## API Reference

### Root

<auto-type-table path="./props.ts" name="CodeBlockProps" />

### Header

<auto-type-table path="./props.ts" name="CodeBlockHeaderProps" />

### Content

<auto-type-table path="./props.ts" name="CodeBlockContentProps" />

### Label

<auto-type-table path="./props.ts" name="CodeBlockLabelProps" />

### LanguageSelect

<auto-type-table path="./props.ts" name="CodeBlockLanguageSelectProps" />

### LanguageSelectTrigger

<auto-type-table path="./props.ts" name="CodeBlockLanguageSelectTriggerProps" />

### CopyButton

<auto-type-table path="./props.ts" name="CodeBlockCopyButtonProps" />

### Code

<auto-type-table path="./props.ts" name="CodeBlockCodeProps" />

### CollapseTrigger

<auto-type-table path="./props.ts" name="CodeBlockCollapseTriggerProps" />

## Examples

### Basic Usage

The most basic usage using `CodeBlock` with `CodeBlock.Code` for displaying code content with a floating copy button.

<Demo data={basicDemo} />

### With Header

Add a structured header with labels and controls using `CodeBlock.Header`, `CodeBlock.Label`, and `CodeBlock.CopyButton` for better organization and user experience.

<Demo data={withHeaderDemo} />

### Language Switcher

Support multiple programming languages by including multiple `CodeBlock.Code` components with different language values.
Use `CodeBlock.LanguageSelect` to provide a dropdown for users to switch between languages. The component automatically displays the code block matching the selected language value, which can be controlled programmatically using the `value` and `onValueChange` props.

<Demo data={languageSwitcherDemo} />

### No Line Numbers

Hide line numbers by setting the `hideLineNumbers` prop to `true` on the root `CodeBlock` component for a cleaner appearance.

<Demo data={noLineNumbersDemo} />

### Collapsible Code

For long code snippets, use the `maxLines` prop to create collapsible code blocks. When the code exceeds the specified number of lines, a `CodeBlock.CollapseTrigger` button appears, allowing users to expand or collapse the content.

<Demo data={collapsibleDemo} />

### Copy Button Variants

The `CodeBlock.CopyButton` component offers two placement options:
- **Floating**: Overlays on the code block using `variant="floating"`
- **Inline**: Positioned within the header alongside other controls

<Demo data={copyButtonDemo} />

## Accessibility

The CodeBlock component is built with accessibility in mind:

- **Keyboard Navigation**: All interactive elements support keyboard navigation
- **Screen Reader Support**: Proper ARIA labels and semantic roles for screen readers
- **Focus Management**: Clear visual focus indicators for keyboard users
- **Color Contrast**: Meets WCAG guidelines for sufficient text contrast ratios
