---
title: DataTable
description: An advanced React table that supports filtering, sorting, and pagination out of the box.
source: packages/raystack/components/datatable
---

import { preview } from "./demo.ts";

<Demo data={preview} />

## Anatomy

Import and assemble the component:

```tsx
import {
  DataTable,
  DataTableColumnDef,
  DataTableQuery,
  DataTableSort,
  useDataTable,
  EmptyFilterValue
} from "@raystack/apsara";

<DataTable>
  <DataTable.Toolbar>
    <DataTable.Search />
    <DataTable.Filters />
    <DataTable.DisplayControls />
  </DataTable.Toolbar>
  <DataTable.Content />
</DataTable>
```

## API Reference

### Root

Groups all parts of the data table and manages state.

<auto-type-table path="./props.ts" name="DataTableProps" />

### DisplayControls

Renders column visibility and display options.

<auto-type-table path="./props.ts" name="DisplayControlsProps" />

### Filters

Renders the filter controls for table columns.

<auto-type-table path="./props.ts" name="FiltersProps" />

### Query

Describes the query state for server-side integration.

<auto-type-table path="./props.ts" name="DataTableQuery" />

### ColumnDef

Describes the column configuration interface.

<auto-type-table path="./props.ts" name="DataTableColumnDef" />

### Content

Renders the table content area.

<auto-type-table path="./props.ts" name="DataTableContentProps" />

### VirtualizedContent

For large datasets, use `DataTable.VirtualizedContent` for better performance. Parent container must have a fixed height.

<auto-type-table path="./props.ts" name="VirtualizedContentProps" />

## Examples

### Virtualized Content

For large datasets, use `DataTable.VirtualizedContent` for better performance. Parent container must have a fixed height.

```tsx
<div style={{ height: 400 }}>
  <DataTable
    data={data}
    columns={columns}
    defaultSort={{ name: "name", order: "asc" }}>
    <DataTable.Toolbar />
    <DataTable.VirtualizedContent rowHeight={44} />
  </DataTable>
</div>
```

#### Fixed Width Columns

By default, columns share equal width. For fixed width columns, use `flex: 'none'` with `width`:

```tsx
const columns = [
  {
    accessorKey: "select",
    header: "",
    styles: {
      header: { width: 50, flex: "none" },
      cell: { width: 50, flex: "none" }
    }
  },
  {
    accessorKey: "name",
    header: "Name"
    // Uses flex: 1 1 0 by default (equal width)
  }
];
```

### Basic Usage

```tsx
import { DataTable } from "@raystack/apsara";

const columns = [
  {
    accessorKey: "name",
    header: "Name",
    columnType: "text",
    enableSorting: true,
  },
  {
    accessorKey: "age",
    header: "Age",
    columnType: "number",
    enableSorting: true,
  },
];
const data = [
  { name: "John Doe", age: 30 },
  { name: "Jane Smith", age: 25 },
];
function MyTable() {
  return (
    <DataTable
      columns={columns}
      data={data}
      defaultSort={{ key: "name", order: "asc" }}>
      <DataTable.Toolbar />
      <DataTable.Content />
    </DataTable>
  );
}
```

### Column Configuration

Columns can be configured with various options:

```ts
interface DataTableColumnDef<TData, TValue> {
  accessorKey: string; // Key to access data
  header: string; // Column header text
  columnType: "text" | "number" | "date" | "select"; // Data type
  enableSorting?: boolean; // Enable sorting
  enableColumnFilter?: boolean; // Enable filtering
  enableHiding?: boolean; // Enable column visibility toggle
  enableGrouping?: boolean; // Enable grouping
  filterOptions?: FilterSelectOption[]; // Options for select filter
  defaultHidden?: boolean; // Hide column by default
}
```

### Filtering

The DataTable supports multiple filter types:

Filter types:

- Text: equals, not equals, contains,
- Number: equals, not equals, less than, less than or equal, greater than, greater than or equal
- Date: equals, not equals, before, on or before, after, on or after
- Select: equals, not equals

### Sorting

Enable column sorting:

```tsx
const columns = [
  {
    accessorKey: "name",
    header: "Name",
    enableSorting: true,
  },
];
```

### Grouping

Group rows by same column data:

```tsx
const columns = [
  {
    accessorKey: "category",
    header: "Category",
    enableGrouping: true,
    showGroupCount: true,
  },
];
```

### Server-side Integration

```tsx
function ServerTable() {
  const [data, setData] = useState([]);
  const [query, setQuery] = useState();
  const [isLoading, setIsLoading] = useState(false);
  const handleQueryChange = async (query: DataTableQuery) => {
    setIsLoading(true);
    setQuery(query);
    const response = await fetchData(query);
    setData(response.data);
    setIsLoading(false);
  };
  return (
    <DataTable
      data={data}
      query={query}
      columns={columns}
      isLoading={isLoading}
      mode="server"
      onTableQueryChange={handleQueryChange}>
      <DataTable.Toolbar />
      <DataTable.Content />
    </DataTable>
  );
}
```

### Custom Styling

```tsx
const columns = [
  {
    accessorKey: "name",
    header: "Name",
    classNames: {
      cell: "custom-cell",
      header: "custom-header",
    },
    styles: {
      cell: { fontWeight: "bold" },
      header: { backgroundColor: "#f5f5f5" },
    },
  },
];
```

### Custom Cell Rendering

```tsx
const columns = [
  {
    accessorKey: "status",
    header: "Status",
    cell: ({ row }) => (
      <Badge status={row.original.status}>{row.original.status}</Badge>
    ),
  },
];
```

### Using DataTable Filter

The `DataTable.Filters` component can be used separately to filter data for custom views.

```tsx
<DataTable
data={data}
query={query}
columns={columns}
mode="server"
onTableQueryChange={handleQueryChange}>
    <DataTable.Filters />
</DataTable>
```

### Using DataTable Display Controls

The `DataTable.DisplayControls` component can be used separately to display the display controls for custom views.

```tsx
<DataTable
data={data}
query={query}
columns={columns}
mode="server"
onTableQueryChange={handleQueryChange}
onColumnVisibilityChange={handleColumnVisibilityChange}>
  <DataTable.DisplayControls />
</DataTable>
```
### Using DataTable Search

The `DataTable.Search` component provides search functionality that automatically integrates with the table query. By default, it is disabled in zero state (when no data and no filters/search applied).

```tsx
<DataTable
  data={data}
  columns={columns}
  defaultSort={{ name: "name", order: "asc" }}>
  <DataTable.Search />
  <DataTable.Content />
</DataTable>
```

#### Search Auto-Disable Behavior

By default, `DataTable.Search` is automatically disabled in zero state to provide a better user experience. You can override this behavior:

```tsx
// Default: disabled in zero state
<DataTable.Search />

// Override: always enabled
<DataTable.Search autoDisableInZeroState={false} />

// Manual control: explicitly disable
<DataTable.Search disabled={true} />
```

The search will be automatically enabled when:
- Data exists in the table
- Filters are applied
- A search query is already present

### Empty States

The DataTable supports two types of empty states to provide better user experience:

#### Zero State

Zero state is shown when no data has been fetched initially (no filters or search applied). In this state, the filter bar is automatically hidden.

```tsx
import { DataTable, EmptyState } from "@raystack/apsara";
import { OrganizationIcon } from "@raystack/apsara/icons";

<DataTable
  data={[]}
  columns={columns}
  defaultSort={{ name: "name", order: "asc" }}>
  <DataTable.Toolbar />
  <DataTable.Content
    zeroState={
      <EmptyState
        icon={<OrganizationIcon />}
        heading="No users yet"
        subHeading="Get started by creating your first user."
      />
    }
  />
</DataTable>
```

#### Empty State

Empty state is shown when initial data exists but no results match after applying filters or search. In this state, the filter bar remains visible so users can adjust their filters.

```tsx
import { DataTable, EmptyState } from "@raystack/apsara";
import { OrganizationIcon, FilterIcon } from "@raystack/apsara/icons";

<DataTable
  data={initialData}
  columns={columns}
  defaultSort={{ name: "name", order: "asc" }}>
  <DataTable.Toolbar />
  <DataTable.Search />
  <DataTable.Content
    zeroState={
      <EmptyState
        icon={<OrganizationIcon />}
        heading="No users yet"
        subHeading="Get started by creating your first user."
      />
    }
    emptyState={
      <EmptyState
        icon={<FilterIcon />}
        heading="No users found"
        subHeading="We couldn't find any matches for that keyword or filter. Try alternative terms or check for typos."
      />
    }
  />
</DataTable>
```

#### Fallback Behavior

- If `zeroState` is not provided, it falls back to `emptyState`
- If neither `zeroState` nor `emptyState` is provided, a default empty state is shown
- The filter bar visibility is automatically controlled based on the state

#### Custom Empty State Content

You can provide custom React components for both states:

```tsx
import { DataTable, EmptyState, Flex, Text, Button } from "@raystack/apsara";
import { OrganizationIcon, FilterIcon } from "@raystack/apsara/icons";

<DataTable.Content
  zeroState={
    <Flex direction="column" gap={4} align="center" style={{ padding: "40px" }}>
      <OrganizationIcon width={48} height={48} style={{ opacity: 0.5 }} />
      <Flex direction="column" gap={2} align="center">
        <Text size={4} weight="medium">
          No data available
        </Text>
        <Text size={2} style={{ color: "var(--rs-color-text-subtle)" }}>
          There are no users in the system. Create your first user to get started.
        </Text>
      </Flex>
      <Button size="small">Create User</Button>
    </Flex>
  }
  emptyState={
    <EmptyState
      icon={<FilterIcon />}
      heading="No matches found"
      subHeading="Try adjusting your filters or search query."
    />
  }
/>
```

## Accessibility

- Uses semantic `table`, `thead`, `tbody`, `tr`, `th`, and `td` elements
- Supports keyboard navigation between cells and rows
- Sort state is communicated via `aria-sort` attribute
- Filter controls are accessible via keyboard
